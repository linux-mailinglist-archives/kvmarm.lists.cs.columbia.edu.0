Return-Path: <kvmarm-bounces@lists.cs.columbia.edu>
X-Original-To: lists+kvmarm@lfdr.de
Delivered-To: lists+kvmarm@lfdr.de
Received: from mm01.cs.columbia.edu (mm01.cs.columbia.edu [128.59.11.253])
	by mail.lfdr.de (Postfix) with ESMTP id CCA0D2A192F
	for <lists+kvmarm@lfdr.de>; Sat, 31 Oct 2020 19:09:59 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by mm01.cs.columbia.edu (Postfix) with ESMTP id 342A64B6CA;
	Sat, 31 Oct 2020 14:09:59 -0400 (EDT)
X-Virus-Scanned: at lists.cs.columbia.edu
X-Spam-Flag: NO
X-Spam-Score: -4.091
X-Spam-Level: 
X-Spam-Status: No, score=-4.091 required=6.1 tests=[BAYES_00=-1.9,
	DKIM_SIGNED=0.1, DNS_FROM_AHBL_RHSBL=2.699, RCVD_IN_DNSWL_HI=-5,
	T_DKIM_INVALID=0.01] autolearn=unavailable
Authentication-Results: mm01.cs.columbia.edu (amavisd-new); dkim=softfail
	(fail, message has been altered) header.i=@kernel.org
Received: from mm01.cs.columbia.edu ([127.0.0.1])
	by localhost (mm01.cs.columbia.edu [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id t93SzZLxEWXv; Sat, 31 Oct 2020 14:09:59 -0400 (EDT)
Received: from mm01.cs.columbia.edu (localhost [127.0.0.1])
	by mm01.cs.columbia.edu (Postfix) with ESMTP id EC4E44B6D4;
	Sat, 31 Oct 2020 14:09:57 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
 by mm01.cs.columbia.edu (Postfix) with ESMTP id 36E134B6CA
 for <kvmarm@lists.cs.columbia.edu>; Sat, 31 Oct 2020 14:09:56 -0400 (EDT)
X-Virus-Scanned: at lists.cs.columbia.edu
Received: from mm01.cs.columbia.edu ([127.0.0.1])
 by localhost (mm01.cs.columbia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id PPdCxI-1gtms for <kvmarm@lists.cs.columbia.edu>;
 Sat, 31 Oct 2020 14:09:55 -0400 (EDT)
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
 by mm01.cs.columbia.edu (Postfix) with ESMTPS id 097C14B6C9
 for <kvmarm@lists.cs.columbia.edu>; Sat, 31 Oct 2020 14:09:55 -0400 (EDT)
Received: from disco-boy.misterjones.org (disco-boy.misterjones.org
 [51.254.78.96])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 981792068D;
 Sat, 31 Oct 2020 18:09:53 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1604167793;
 bh=9tWmBFkeDiHQIRKFyzi0uSM32Eus2PSRL9aCa6uUCmk=;
 h=Date:From:To:Cc:Subject:In-Reply-To:References:From;
 b=hjrC+CClLnx8UTPkDz8ls6lRFPsPFCZ1Hc2V/OeV9vn94An3DQexcTtNbUX62ZntW
 yzh/UvXy1gTBxuHxJAKYU06p/E4LxPPOYF0VRYw5wBO3MvKg84/ZpJ1jsukFyvf7yn
 aB6t0HofgmnVlq4FxZ+b1+N2ZUDr89bsxu4yTw+Q=
Received: from 78.163-31-62.static.virginmediabusiness.co.uk ([62.31.163.78]
 helo=wait-a-minute.misterjones.org)
 by disco-boy.misterjones.org with esmtpsa (TLS1.3) tls
 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (Exim 4.94)
 (envelope-from <maz@kernel.org>)
 id 1kYvK3-0068mF-CL; Sat, 31 Oct 2020 18:09:51 +0000
Date: Sat, 31 Oct 2020 18:09:50 +0000
Message-ID: <87a6w2e07l.wl-maz@kernel.org>
From: Marc Zyngier <maz@kernel.org>
To: Andrew Jones <drjones@redhat.com>
Subject: Re: [PATCH 1/3] KVM: arm64: Don't hide ID registers from userspace
In-Reply-To: <20201029201105.101910-2-drjones@redhat.com>
References: <20201029201105.101910-1-drjones@redhat.com>
 <20201029201105.101910-2-drjones@redhat.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI-EPG/1.14.7 (Harue)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 EasyPG/1.0.0 Emacs/26.3
 (x86_64-pc-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
X-SA-Exim-Connect-IP: 62.31.163.78
X-SA-Exim-Rcpt-To: drjones@redhat.com, kvmarm@lists.cs.columbia.edu,
 Dave.Martin@arm.com, xu910121@sina.com
X-SA-Exim-Mail-From: maz@kernel.org
X-SA-Exim-Scanned: No (on disco-boy.misterjones.org);
 SAEximRunCond expanded to false
Cc: xu910121@sina.com, kvmarm@lists.cs.columbia.edu, Dave.Martin@arm.com
X-BeenThere: kvmarm@lists.cs.columbia.edu
X-Mailman-Version: 2.1.14
Precedence: list
List-Id: Where KVM/ARM decisions are made <kvmarm.lists.cs.columbia.edu>
List-Unsubscribe: <https://lists.cs.columbia.edu/mailman/options/kvmarm>,
 <mailto:kvmarm-request@lists.cs.columbia.edu?subject=unsubscribe>
List-Archive: <https://lists.cs.columbia.edu/pipermail/kvmarm>
List-Post: <mailto:kvmarm@lists.cs.columbia.edu>
List-Help: <mailto:kvmarm-request@lists.cs.columbia.edu?subject=help>
List-Subscribe: <https://lists.cs.columbia.edu/mailman/listinfo/kvmarm>,
 <mailto:kvmarm-request@lists.cs.columbia.edu?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: kvmarm-bounces@lists.cs.columbia.edu
Sender: kvmarm-bounces@lists.cs.columbia.edu

T24gVGh1LCAyOSBPY3QgMjAyMCAyMDoxMTowMyArMDAwMCwKQW5kcmV3IEpvbmVzIDxkcmpvbmVz
QHJlZGhhdC5jb20+IHdyb3RlOgo+IAo+IElEIHJlZ2lzdGVycyBhcmUgUkFaIHVudGlsIHRoZXkn
dmUgYmVlbiBhbGxvY2F0ZWQgYSBwdXJwb3NlLCBidXQKPiB0aGF0IGRvZXNuJ3QgbWVhbiB0aGV5
IHNob3VsZCBiZSByZW1vdmVkIGZyb20gdGhlIEtWTV9HRVRfUkVHX0xJU1QKPiBsaXN0LiBTbyBm
YXIgd2Ugb25seSBoYXZlIG9uZSByZWdpc3RlciwgU1lTX0lEX0FBNjRaRlIwX0VMMSwgdGhhdAo+
IGlzIGhpZGRlbiBmcm9tIHVzZXJzcGFjZSB3aGVuIGl0cyBmdW5jdGlvbiBpcyBub3QgcHJlc2Vu
dC4gUmVtb3ZpbmcKPiB0aGUgdXNlcnNwYWNlIHZpc2liaWxpdHkgY2hlY2tzIGlzIGVub3VnaCB0
byByZWV4cG9zZSBpdCwgYXMgaXQKPiBhbHJlYWR5IGJlaGF2ZXMgYXMgUkFaIHdoZW4gdGhlIGZ1
bmN0aW9uIGlzIG5vdCBwcmVzZW50Lgo+IAo+IEZpeGVzOiA3MzQzMzc2MmZjYWUgKCJLVk06IGFy
bTY0L3N2ZTogU3lzdGVtIHJlZ2lzdGVyIGNvbnRleHQgc3dpdGNoIGFuZCBhY2Nlc3Mgc3VwcG9y
dCIpCj4gUmVwb3J0ZWQtYnk6IOW8oOS4nOaXrSA8eHU5MTAxMjFAc2luYS5jb20+Cj4gU2lnbmVk
LW9mZi1ieTogQW5kcmV3IEpvbmVzIDxkcmpvbmVzQHJlZGhhdC5jb20+CgpTaW5jZSB0aGlzIHdh
cyBicm9rZW4gaW4gNS4yLCBpdCBwcm9iYWJseSBkZXNlcnZlcyBhIENjIHN0YWJsZSAod2hpY2gK
SSBjYW4gYWRkIHdoZW4gYXBwbHlpbmcgdGhpcykuCgo+IC0tLQo+ICBhcmNoL2FybTY0L2t2bS9z
eXNfcmVncy5jIHwgMTggKy0tLS0tLS0tLS0tLS0tLS0tCj4gIDEgZmlsZSBjaGFuZ2VkLCAxIGlu
c2VydGlvbigrKSwgMTcgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2FyY2gvYXJtNjQv
a3ZtL3N5c19yZWdzLmMgYi9hcmNoL2FybTY0L2t2bS9zeXNfcmVncy5jCj4gaW5kZXggZDkxMTdi
YzU2MjM3Li5kMjRlNjZlZTU5YjMgMTAwNjQ0Cj4gLS0tIGEvYXJjaC9hcm02NC9rdm0vc3lzX3Jl
Z3MuYwo+ICsrKyBiL2FyY2gvYXJtNjQva3ZtL3N5c19yZWdzLmMKPiBAQCAtMTE5NSwxNiArMTE5
NSw2IEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgc3ZlX3Zpc2liaWxpdHkoY29uc3Qgc3RydWN0IGt2
bV92Y3B1ICp2Y3B1LAo+ICAJcmV0dXJuIFJFR19ISURERU5fVVNFUiB8IFJFR19ISURERU5fR1VF
U1Q7Cj4gIH0KPiAgCj4gLS8qIFZpc2liaWxpdHkgb3ZlcnJpZGVzIGZvciBTVkUtc3BlY2lmaWMg
SUQgcmVnaXN0ZXJzICovCj4gLXN0YXRpYyB1bnNpZ25lZCBpbnQgc3ZlX2lkX3Zpc2liaWxpdHko
Y29uc3Qgc3RydWN0IGt2bV92Y3B1ICp2Y3B1LAo+IC0JCQkJICAgICAgY29uc3Qgc3RydWN0IHN5
c19yZWdfZGVzYyAqcmQpCj4gLXsKPiAtCWlmICh2Y3B1X2hhc19zdmUodmNwdSkpCj4gLQkJcmV0
dXJuIDA7Cj4gLQo+IC0JcmV0dXJuIFJFR19ISURERU5fVVNFUjsKPiAtfQo+IC0KPiAgLyogR2Vu
ZXJhdGUgdGhlIGVtdWxhdGVkIElEX0FBNjRaRlIwX0VMMSB2YWx1ZSBleHBvc2VkIHRvIHRoZSBn
dWVzdCAqLwo+ICBzdGF0aWMgdTY0IGd1ZXN0X2lkX2FhNjR6ZnIwX2VsMShjb25zdCBzdHJ1Y3Qg
a3ZtX3ZjcHUgKnZjcHUpCj4gIHsKPiBAQCAtMTIzMSw5ICsxMjIxLDYgQEAgc3RhdGljIGludCBn
ZXRfaWRfYWE2NHpmcjBfZWwxKHN0cnVjdCBrdm1fdmNwdSAqdmNwdSwKPiAgewo+ICAJdTY0IHZh
bDsKPiAgCj4gLQlpZiAoV0FSTl9PTighdmNwdV9oYXNfc3ZlKHZjcHUpKSkKPiAtCQlyZXR1cm4g
LUVOT0VOVDsKPiAtCj4gIAl2YWwgPSBndWVzdF9pZF9hYTY0emZyMF9lbDEodmNwdSk7Cj4gIAly
ZXR1cm4gcmVnX3RvX3VzZXIodWFkZHIsICZ2YWwsIHJlZy0+aWQpOwo+ICB9Cj4gQEAgLTEyNDYs
OSArMTIzMyw2IEBAIHN0YXRpYyBpbnQgc2V0X2lkX2FhNjR6ZnIwX2VsMShzdHJ1Y3Qga3ZtX3Zj
cHUgKnZjcHUsCj4gIAlpbnQgZXJyOwo+ICAJdTY0IHZhbDsKPiAgCj4gLQlpZiAoV0FSTl9PTigh
dmNwdV9oYXNfc3ZlKHZjcHUpKSkKPiAtCQlyZXR1cm4gLUVOT0VOVDsKPiAtCj4gIAllcnIgPSBy
ZWdfZnJvbV91c2VyKCZ2YWwsIHVhZGRyLCBpZCk7Cj4gIAlpZiAoZXJyKQo+ICAJCXJldHVybiBl
cnI7Cj4gQEAgLTE1MTgsNyArMTUwMiw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgc3lzX3JlZ19k
ZXNjIHN5c19yZWdfZGVzY3NbXSA9IHsKPiAgCUlEX1NBTklUSVNFRChJRF9BQTY0UEZSMV9FTDEp
LAo+ICAJSURfVU5BTExPQ0FURUQoNCwyKSwKPiAgCUlEX1VOQUxMT0NBVEVEKDQsMyksCj4gLQl7
IFNZU19ERVNDKFNZU19JRF9BQTY0WkZSMF9FTDEpLCBhY2Nlc3NfaWRfYWE2NHpmcjBfZWwxLCAu
Z2V0X3VzZXIgPSBnZXRfaWRfYWE2NHpmcjBfZWwxLCAuc2V0X3VzZXIgPSBzZXRfaWRfYWE2NHpm
cjBfZWwxLCAudmlzaWJpbGl0eSA9IHN2ZV9pZF92aXNpYmlsaXR5IH0sCj4gKwl7IFNZU19ERVND
KFNZU19JRF9BQTY0WkZSMF9FTDEpLCBhY2Nlc3NfaWRfYWE2NHpmcjBfZWwxLCAuZ2V0X3VzZXIg
PSBnZXRfaWRfYWE2NHpmcjBfZWwxLCAuc2V0X3VzZXIgPSBzZXRfaWRfYWE2NHpmcjBfZWwxLCB9
LAo+ICAJSURfVU5BTExPQ0FURUQoNCw1KSwKPiAgCUlEX1VOQUxMT0NBVEVEKDQsNiksCj4gIAlJ
RF9VTkFMTE9DQVRFRCg0LDcpLAo+IC0tIAo+IDIuMjcuMAo+IAo+IAoKTG9va3MgbGlrZSB0aGUg
cmlnaHQgdGhpbmcgdG8gZG8sIHRoYW5rcyBmb3IgZm9sbG93aW5nIHVwIG9uIHRoaXMuCkRhdmUs
IGFyZSB5b3UgaGFwcHkgd2l0aCB0aGlzPwoKCU0uCgotLSAKV2l0aG91dCBkZXZpYXRpb24gZnJv
bSB0aGUgbm9ybSwgcHJvZ3Jlc3MgaXMgbm90IHBvc3NpYmxlLgpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwprdm1hcm0gbWFpbGluZyBsaXN0Cmt2bWFybUBs
aXN0cy5jcy5jb2x1bWJpYS5lZHUKaHR0cHM6Ly9saXN0cy5jcy5jb2x1bWJpYS5lZHUvbWFpbG1h
bi9saXN0aW5mby9rdm1hcm0K
