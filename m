Return-Path: <kvmarm-bounces@lists.cs.columbia.edu>
X-Original-To: lists+kvmarm@lfdr.de
Delivered-To: lists+kvmarm@lfdr.de
Received: from mm01.cs.columbia.edu (mm01.cs.columbia.edu [128.59.11.253])
	by mail.lfdr.de (Postfix) with ESMTP id 456398BE68
	for <lists+kvmarm@lfdr.de>; Tue, 13 Aug 2019 18:24:48 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by mm01.cs.columbia.edu (Postfix) with ESMTP id AC2244A4F6;
	Tue, 13 Aug 2019 12:24:47 -0400 (EDT)
X-Virus-Scanned: at lists.cs.columbia.edu
X-Spam-Flag: NO
X-Spam-Score: 0.799
X-Spam-Level: 
X-Spam-Status: No, score=0.799 required=6.1 tests=[BAYES_00=-1.9,
	DNS_FROM_AHBL_RHSBL=2.699] autolearn=unavailable
Received: from mm01.cs.columbia.edu ([127.0.0.1])
	by localhost (mm01.cs.columbia.edu [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lKUNNsbBQY8O; Tue, 13 Aug 2019 12:24:47 -0400 (EDT)
Received: from mm01.cs.columbia.edu (localhost [127.0.0.1])
	by mm01.cs.columbia.edu (Postfix) with ESMTP id 442384A52F;
	Tue, 13 Aug 2019 12:24:46 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
 by mm01.cs.columbia.edu (Postfix) with ESMTP id 154004A525
 for <kvmarm@lists.cs.columbia.edu>; Tue, 13 Aug 2019 12:24:45 -0400 (EDT)
X-Virus-Scanned: at lists.cs.columbia.edu
Received: from mm01.cs.columbia.edu ([127.0.0.1])
 by localhost (mm01.cs.columbia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id OUav3VQDdpUN for <kvmarm@lists.cs.columbia.edu>;
 Tue, 13 Aug 2019 12:24:43 -0400 (EDT)
Received: from foss.arm.com (foss.arm.com [217.140.110.172])
 by mm01.cs.columbia.edu (Postfix) with ESMTP id A9FFD4A4AA
 for <kvmarm@lists.cs.columbia.edu>; Tue, 13 Aug 2019 12:24:43 -0400 (EDT)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 5195C15AB;
 Tue, 13 Aug 2019 09:24:43 -0700 (PDT)
Received: from big-swifty.misterjones.org (unknown [172.31.20.19])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 0BE293F706;
 Tue, 13 Aug 2019 09:24:31 -0700 (PDT)
Date: Tue, 13 Aug 2019 17:24:10 +0100
Message-ID: <865zn1nidx.wl-maz@kernel.org>
From: Marc Zyngier <maz@kernel.org>
To: Julien Grall <julien.grall@arm.com>, <bigeasy@linutronix.de>
Subject: Re: KVM Arm64 and Linux-RT issues
In-Reply-To: <adc0b2e2-3a2e-5685-8eb5-2ce927d2139e@arm.com>
References: <b9867c43-7fe3-5d64-9939-b1a7ab7f1061@arm.com>
 <cd310858-2c0f-6af1-bf82-ee1e01a2cfb8@arm.com>
 <alpine.DEB.2.21.1907270053360.1791@nanos.tec.linutronix.de>
 <86zhkzn319.wl-maz@kernel.org>
 <960b5ed1-6d0f-3cee-da37-6061b4946c1a@arm.com>
 <20190813125835.5v26s4iuv44lw2xg@linutronix.de>
 <adc0b2e2-3a2e-5685-8eb5-2ce927d2139e@arm.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI-EPG/1.14.7 (Harue)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 EasyPG/1.0.0 Emacs/26
 (aarch64-unknown-linux-gnu) MULE/6.0 (HANACHIRUSATO)
Organization: Approximate
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Cc: "linux-rt-users@vger.kernel.org" <linux-rt-users@vger.kernel.org>,
 Andre Przywara <andre.przywara@arm.com>, Thomas Gleixner <tglx@linutronix.de>,
 anna-maria@linutronix.de,
 "kvmarm@lists.cs.columbia.edu" <kvmarm@lists.cs.columbia.edu>
X-BeenThere: kvmarm@lists.cs.columbia.edu
X-Mailman-Version: 2.1.14
Precedence: list
List-Id: Where KVM/ARM decisions are made <kvmarm.lists.cs.columbia.edu>
List-Unsubscribe: <https://lists.cs.columbia.edu/mailman/options/kvmarm>,
 <mailto:kvmarm-request@lists.cs.columbia.edu?subject=unsubscribe>
List-Archive: <https://lists.cs.columbia.edu/pipermail/kvmarm>
List-Post: <mailto:kvmarm@lists.cs.columbia.edu>
List-Help: <mailto:kvmarm-request@lists.cs.columbia.edu?subject=help>
List-Subscribe: <https://lists.cs.columbia.edu/mailman/listinfo/kvmarm>,
 <mailto:kvmarm-request@lists.cs.columbia.edu?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: kvmarm-bounces@lists.cs.columbia.edu
Sender: kvmarm-bounces@lists.cs.columbia.edu

T24gVHVlLCAxMyBBdWcgMjAxOSAxNjo0NDoyMSArMDEwMCwKSnVsaWVuIEdyYWxsIDxqdWxpZW4u
Z3JhbGxAYXJtLmNvbT4gd3JvdGU6Cj4gCj4gSGkgU2ViYXN0aWFuLAo+IAo+IE9uIDgvMTMvMTkg
MTo1OCBQTSwgYmlnZWFzeUBsaW51dHJvbml4LmRlIHdyb3RlOgo+ID4gT24gMjAxOS0wNy0yNyAx
NDozNzoxMSBbKzAxMDBdLCBKdWxpZW4gR3JhbGwgd3JvdGU6Cj4gPj4+PiA4PC0tLS0tLS0tLS0t
LQo+ID4+Pj4gLS0tIGEvdmlydC9rdm0vYXJtL2FyY2hfdGltZXIuYwo+ID4+Pj4gKysrIGIvdmly
dC9rdm0vYXJtL2FyY2hfdGltZXIuYwo+ID4+Pj4gQEAgLTgwLDcgKzgwLDcgQEAgc3RhdGljIGlu
bGluZSBib29sIHVzZXJzcGFjZV9pcnFjaGlwKHN0cgo+ID4+Pj4gICAgc3RhdGljIHZvaWQgc29m
dF90aW1lcl9zdGFydChzdHJ1Y3QgaHJ0aW1lciAqaHJ0LCB1NjQgbnMpCj4gPj4+PiAgICB7Cj4g
Pj4+PiAgICAJaHJ0aW1lcl9zdGFydChocnQsIGt0aW1lX2FkZF9ucyhrdGltZV9nZXQoKSwgbnMp
LAo+ID4+Pj4gLQkJICAgICAgSFJUSU1FUl9NT0RFX0FCUyk7Cj4gPj4+PiArCQkgICAgICBIUlRJ
TUVSX01PREVfQUJTX0hBUkQpOwo+ID4+Pj4gICAgfQo+ID4+PiAKPiA+Pj4gVGhhdCdzIHByZXR0
eSBuZWF0LCBhbmQgbWF0Y2hlcyB0aGUgcGF0Y2ggeW91IGFscmVhZHkgaGF2ZSBmb3IKPiA+Pj4g
eDg2LiBGZWVsIGZyZWUgdG8gYWRkIG15Cj4gPj4+IAo+ID4+PiBBY2tlZC1ieTogTWFyYyBaeW5n
aWVyIDxtYXpAa2VybmVsLm9yZz4KPiA+PiAKPiA+PiBJIGNhbiBjb25maXJtIHRoZSB3YXJuaW5n
IG5vdyBkaXNhcHBlYXJlZC4gRmVlbCBmcmVlIHRvIGFkZGVkIG15IHRlc3RlZC1ieToKPiA+PiAK
PiA+PiBUZXN0ZWQtYnk6IEp1bGllbiBHcmFsbCA8anVsaWVuLmdyYWxsQGFybS5jb20+Cj4gPj4g
Cj4gPiAKPiA+IHxrdm1faHJ0aW1lcl9leHBpcmUoKQo+ID4gfCBrdm1fdGltZXJfdXBkYXRlX2ly
cSgpCj4gPiB8ICAga3ZtX3ZnaWNfaW5qZWN0X2lycSgpCj4gPiB8ICAgICB2Z2ljX2xhenlfaW5p
dCgpCj4gPiB8ICAgICAgICAgICAgICAgIGlmICh1bmxpa2VseSghdmdpY19pbml0aWFsaXplZChr
dm0pKSkgewo+ID4gfCAgICAgICAgICAgICAgICAgaWYgKGt2bS0+YXJjaC52Z2ljLnZnaWNfbW9k
ZWwgIT0gS1ZNX0RFVl9UWVBFX0FSTV9WR0lDX1YyKQo+ID4gfCAgICAgICAgICAgICAgICAgICAg
ICAgICByZXR1cm4gLUVCVVNZOwo+ID4gfAo+ID4gfCAgICAgICAgICAgICAgICAgbXV0ZXhfbG9j
aygma3ZtLT5sb2NrKTsKPiA+IAo+ID4gSXMgdGhpcyBwb3NzaWJsZSBwYXRoIG9mIGFueSBjb25j
ZXJuPyBUaGlzIHNob3VsZCB0aHJvdyBhIHdhcm5pbmcgYWxzbwo+ID4gZm9yICFSVCBzbyBwcm9i
YWJseSBub3TigKYKPiAKPiBIbW1tLCB0aGVvcmV0aWNhbGx5IHllcy4gSW4gcHJhY3RpY2UsIGl0
IGxvb2tzIGxpa2UgdGhlIGhydGltZXIgd2lsbAo+IG5vdCBiZSBzdGFydGVkIGJlZm9yZSBrdm1f
dmNwdV9maXJzdF9ydW5faW5pdCgpIGlzIGNhbGxlZCBvbiB0aGUgZmlyc3QKPiBydW4uCgpFeGFj
dGx5LiBFdmVuIGlmIHlvdSByZXN0b3JlIHRoZSB0aW1lciBpbiBhICJmaXJpbmciIGNvbmZpZ3Vy
YXRpb24sCnlvdSdsbCBoYXZlIHRvIGV4ZWN1dGUgdGhlIHZnaWMgaW5pdCBiZWZvcmUgYW55IGJh
Y2tncm91bmQgdGltZXIgZ2V0cwpwcm9ncmFtbWVkLCBsZXQgYWxvbmUgZXhwaXJlZC4KClllcywg
dGhlIGludGVyZmFjZSBpcyB0ZXJyaWJsZS4KCj4gVGhlIGZ1bmN0aW9uIHdpbGwgY2FsbCBrdm1f
dmdpY19tYXBfcmVzb3VyY2VzKCkgd2hpY2ggd2lsbCBpbml0aWFsaXplCj4gdGhlIHZnaWMgaWYg
bm90IGFscmVhZHkgZG9uZS4KPiAKPiBMb29raW5nIGFyb3VuZCwgSSB0aGluayB0aGlzIGlzIGhl
cmUgdG8gY2F0ZXIgdGhlIGNhc2Ugd2hlcmUKPiBLVk1fSVJRX0xJTkUgaXMgY2FsbGVkIGJlZm9y
ZSBydW5uaW5nLgo+IAo+IEkgYW0gbm90IHlldCBmYW1pbGlhciB3aXRoIHRoZSB2Z2ljLCBzbyBJ
IG1heSBoYXZlIG1pc3NlZCBzb21ldGhpbmcuCj4gCj4gPiAKPiA+IEkgcHJlcGFyZWQgdGhlIHBh
dGNoIGJlbG93LiBUaGlzIG9uZSBjb3VsZCBnbyBzdHJhaWdodCB0byB0Z2x4J3MgdGltZXIgdHJl
ZQo+ID4gc2luY2UgaGUgaGFzIHRoZSBfSEFSRCBiaXRzIHRoZXJlLiBJICp0aGluayogaXQgcmVx
dWlyZXMgdG8gc2V0IHRoZSBiaXRzCj4gPiBfSEFSRCBkdXJpbmcgX2luaXQoKSBhbmQgX3N0YXJ0
KCkgb3RoZXJ3aXNlIHRoZXJlIGlzIChvciB3YXMpIGEgd2FybmluZ+KApgo+ID4gCj4gPiBTZWJh
c3RpYW4KPiA+IDg8LS0tLS0tLS0tLS0tCj4gPiAKPiA+IEZyb206IFRob21hcyBHbGVpeG5lciA8
dGdseEBsaW51dHJvbml4LmRlPgo+ID4gRGF0ZTogVHVlLCAxMyBBdWcgMjAxOSAxNDoyOTo0MSAr
MDIwMAo+ID4gU3ViamVjdDogW1BBVENIXSBLVk06IGFybS9hcm02NDogTGV0IHRoZSB0aW1lciBl
eHBpcmUgaW4gaGFyZGlycSBjb250ZXh0IG9uIFJUCj4gPiAKPiA+IFRoZSB0aW1lcnMgYXJlIGNh
bmNlbGVkIGZyb20gYW4gcHJlZW1wdC1ub3RpZmllciB3aGljaCBpcyBpbnZva2VkIHdpdGgKPiA+
IGRpc2FibGVkIHByZWVtcHRpb24gd2hpY2ggaXMgbm90IGFsbG93ZWQgb24gUFJFRU1QVF9SVC4K
PiA+IFRoZSB0aW1lciBjYWxsYmFjayBpcyBzaG9ydCBzbyBpbiBjb3VsZCBiZSBpbnZva2VkIGlu
IGhhcmQtSVJRIGNvbnRleHQKPiA+IG9uIC1SVC4KPiA+IAo+ID4gTGV0IHRoZSB0aW1lciBleHBp
cmUgb24gaGFyZC1JUlEgY29udGV4dCBldmVuIG9uIC1SVC4KPiA+IAo+ID4gU2lnbmVkLW9mZi1i
eTogVGhvbWFzIEdsZWl4bmVyIDx0Z2x4QGxpbnV0cm9uaXguZGU+Cj4gPiBBY2tlZC1ieTogTWFy
YyBaeW5naWVyIDxtYXpAa2VybmVsLm9yZz4KPiA+IFRlc3RlZC1ieTogSnVsaWVuIEdyYWxsIDxq
dWxpZW4uZ3JhbGxAYXJtLmNvbT4KPiA+IFNpZ25lZC1vZmYtYnk6IFNlYmFzdGlhbiBBbmRyemVq
IFNpZXdpb3IgPGJpZ2Vhc3lAbGludXRyb25peC5kZT4KPiA+IC0tLQo+ID4gICB2aXJ0L2t2bS9h
cm0vYXJjaF90aW1lci5jIHwgOCArKysrLS0tLQo+ID4gICAxIGZpbGUgY2hhbmdlZCwgNCBpbnNl
cnRpb25zKCspLCA0IGRlbGV0aW9ucygtKQo+ID4gCj4gPiBkaWZmIC0tZ2l0IGEvdmlydC9rdm0v
YXJtL2FyY2hfdGltZXIuYyBiL3ZpcnQva3ZtL2FybS9hcmNoX3RpbWVyLmMKPiA+IGluZGV4IDFi
ZTQ4NmQ1ZDdjYjQuLjBiZmE3YzViNWM4OTAgMTAwNjQ0Cj4gPiAtLS0gYS92aXJ0L2t2bS9hcm0v
YXJjaF90aW1lci5jCj4gPiArKysgYi92aXJ0L2t2bS9hcm0vYXJjaF90aW1lci5jCj4gPiBAQCAt
ODAsNyArODAsNyBAQCBzdGF0aWMgaW5saW5lIGJvb2wgdXNlcnNwYWNlX2lycWNoaXAoc3RydWN0
IGt2bSAqa3ZtKQo+ID4gICBzdGF0aWMgdm9pZCBzb2Z0X3RpbWVyX3N0YXJ0KHN0cnVjdCBocnRp
bWVyICpocnQsIHU2NCBucykKPiA+ICAgewo+ID4gICAJaHJ0aW1lcl9zdGFydChocnQsIGt0aW1l
X2FkZF9ucyhrdGltZV9nZXQoKSwgbnMpLAo+ID4gLQkJICAgICAgSFJUSU1FUl9NT0RFX0FCUyk7
Cj4gPiArCQkgICAgICBIUlRJTUVSX01PREVfQUJTX0hBUkQpOwo+ID4gICB9Cj4gPiAgICAgc3Rh
dGljIHZvaWQgc29mdF90aW1lcl9jYW5jZWwoc3RydWN0IGhydGltZXIgKmhydCkKPiA+IEBAIC02
OTcsMTEgKzY5NywxMSBAQCB2b2lkIGt2bV90aW1lcl92Y3B1X2luaXQoc3RydWN0IGt2bV92Y3B1
ICp2Y3B1KQo+ID4gICAJdXBkYXRlX3Z0aW1lcl9jbnR2b2ZmKHZjcHUsIGt2bV9waHlzX3RpbWVy
X3JlYWQoKSk7Cj4gPiAgIAlwdGltZXItPmNudHZvZmYgPSAwOwo+ID4gICAtCWhydGltZXJfaW5p
dCgmdGltZXItPmJnX3RpbWVyLCBDTE9DS19NT05PVE9OSUMsCj4gPiBIUlRJTUVSX01PREVfQUJT
KTsKPiA+ICsJaHJ0aW1lcl9pbml0KCZ0aW1lci0+YmdfdGltZXIsIENMT0NLX01PTk9UT05JQywg
SFJUSU1FUl9NT0RFX0FCU19IQVJEKTsKPiA+ICAgCXRpbWVyLT5iZ190aW1lci5mdW5jdGlvbiA9
IGt2bV9iZ190aW1lcl9leHBpcmU7Cj4gPiAgIC0JaHJ0aW1lcl9pbml0KCZ2dGltZXItPmhydGlt
ZXIsIENMT0NLX01PTk9UT05JQywKPiA+IEhSVElNRVJfTU9ERV9BQlMpOwo+ID4gLQlocnRpbWVy
X2luaXQoJnB0aW1lci0+aHJ0aW1lciwgQ0xPQ0tfTU9OT1RPTklDLCBIUlRJTUVSX01PREVfQUJT
KTsKPiA+ICsJaHJ0aW1lcl9pbml0KCZ2dGltZXItPmhydGltZXIsIENMT0NLX01PTk9UT05JQywg
SFJUSU1FUl9NT0RFX0FCU19IQVJEKTsKPiA+ICsJaHJ0aW1lcl9pbml0KCZwdGltZXItPmhydGlt
ZXIsIENMT0NLX01PTk9UT05JQywgSFJUSU1FUl9NT0RFX0FCU19IQVJEKTsKPiA+ICAgCXZ0aW1l
ci0+aHJ0aW1lci5mdW5jdGlvbiA9IGt2bV9ocnRpbWVyX2V4cGlyZTsKPiA+ICAgCXB0aW1lci0+
aHJ0aW1lci5mdW5jdGlvbiA9IGt2bV9ocnRpbWVyX2V4cGlyZTsKPiA+ICAgCgpQYXRjaCBsb29r
cyBmaW5lLCBwbGVhc2UgYWRkIGl0IHRvIHRoZSBwaWxlIG9mIFJUIHN0dWZmISA7LSkKClRoYW5r
cywKCglNLgoKLS0gCkphenogaXMgbm90IGRlYWQsIGl0IGp1c3Qgc21lbGxzIGZ1bm55LgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwprdm1hcm0gbWFpbGlu
ZyBsaXN0Cmt2bWFybUBsaXN0cy5jcy5jb2x1bWJpYS5lZHUKaHR0cHM6Ly9saXN0cy5jcy5jb2x1
bWJpYS5lZHUvbWFpbG1hbi9saXN0aW5mby9rdm1hcm0K
